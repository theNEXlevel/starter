"use strict";(self.webpackChunkui=self.webpackChunkui||[]).push([[621],{6621:(S,d,n)=>{n.r(d),n.d(d,{RegisterModule:()=>E});var f=n(2032),m=n(1562),o=n(9691),h=n(721),g=n(7869),v=n(8353),s=n(101),y=n(6209),t=n(4534),Z=n(3690),p=n(2033),R=n(6512),u=n(4204),C=n(9906),x=n(8301),c=n(524),I=n(6918);function T(e,a){1&e&&(t.TgZ(0,"mat-error",12),t._uU(1," Email is required "),t.qZA())}function b(e,a){1&e&&(t.TgZ(0,"mat-error",13),t._uU(1," Email must be valid "),t.qZA())}function A(e,a){1&e&&(t.TgZ(0,"mat-error",14),t._uU(1," Password is required "),t.qZA())}function J(e,a){1&e&&(t.TgZ(0,"mat-icon"),t._uU(1,"person_add"),t.qZA())}function M(e,a){1&e&&t._UZ(0,"mat-spinner",15),2&e&&t.Q6J("diameter",24)}function N(e,a){if(1&e){const r=t.EpF();t.ynx(0),t.TgZ(1,"mat-card",1)(2,"mat-card-title")(3,"h1"),t._uU(4,"Register"),t.qZA()(),t.TgZ(5,"mat-card-content")(6,"form",2),t.NdJ("ngSubmit",function(){t.CHM(r);const i=t.oxw();return t.KtG(i.submit())}),t.TgZ(7,"mat-form-field",3)(8,"mat-label"),t._uU(9,"Email"),t.qZA(),t._UZ(10,"input",4),t.YNc(11,T,2,0,"mat-error",5),t.YNc(12,b,2,0,"mat-error",6),t.qZA(),t.TgZ(13,"mat-form-field",3)(14,"mat-label"),t._uU(15,"Password"),t.qZA(),t._UZ(16,"input",7),t.YNc(17,A,2,0,"mat-error",8),t.qZA(),t.TgZ(18,"div",9)(19,"button",10),t.YNc(20,J,2,0,"mat-icon",0),t.ALo(21,"async"),t.YNc(22,M,1,1,"mat-spinner",11),t.ALo(23,"async"),t._uU(24," Register "),t.qZA()()()()(),t.BQk()}if(2&e){const r=t.oxw();t.xp6(6),t.Q6J("formGroup",r.form),t.xp6(5),t.Q6J("ngIf",(null==r.email?null:r.email.hasError("required"))&&!(null!=r.email&&r.email.hasError("email"))),t.xp6(1),t.Q6J("ngIf",null==r.email?null:r.email.hasError("email")),t.xp6(5),t.Q6J("ngIf",null==r.password?null:r.password.hasError("required")),t.xp6(3),t.Q6J("ngIf",!1===t.lcZ(21,6,r.loading$)),t.xp6(2),t.Q6J("ngIf",t.lcZ(23,8,r.loading$))}}const Y=[{path:"",component:(()=>{class e{constructor(r,l){this.router=r,this.store=l,this.loadingSubject=new h.X(!1),this.loading$=this.loadingSubject.asObservable(),this.form=new o.cw({email:new o.NI("",{validators:[o.kI.required,o.kI.email],nonNullable:!0}),password:new o.NI("",{validators:[o.kI.required],nonNullable:!0})}),this.user$=this.store.select(s.dy).pipe((0,g.b)(i=>{i.id&&(this.loadingSubject.next(!1),this.store.dispatch((0,s.hY)({msg:{message:"You have been logged in!"}})),this.router.navigate(["dashboard"]))})),this.userError$=this.store.select(s.M).pipe((0,g.b)(i=>{i.error&&(this.loadingSubject.next(!1),this.store.dispatch((0,s.hY)({msg:i})))})),this.vm$=(0,v.a)([this.user$,this.userError$])}get email(){return this.form.get("email")}get password(){return this.form.get("password")}submit(){this.form.invalid||(this.loadingSubject.next(!0),this.store.dispatch(y.bj({user:this.form.value})))}}return e.\u0275fac=function(r){return new(r||e)(t.Y36(m.F0),t.Y36(Z.yh))},e.\u0275cmp=t.Xpm({type:e,selectors:[["starter-register"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"register-card"],[3,"formGroup","ngSubmit"],["appearance","fill",1,"full-width"],["matInput","","formControlName","email","data-cy","register-email"],["data-cy","email-required",4,"ngIf"],["data-cy","email-pattern",4,"ngIf"],["matInput","","formControlName","password","data-cy","register-password"],["data-cy","password-required",4,"ngIf"],[1,"btn-group"],["mat-raised-button","","type","submit","data-cy","register-submit","color","primary"],["class","spinner-icon",3,"diameter",4,"ngIf"],["data-cy","email-required"],["data-cy","email-pattern"],["data-cy","password-required"],[1,"spinner-icon",3,"diameter"]],template:function(r,l){1&r&&(t.YNc(0,N,25,10,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,l.vm$))},dependencies:[o._Y,o.Fj,o.JJ,o.JL,o.sg,o.u,p.O5,R.Hw,u.TO,u.KE,u.hX,C.Nt,x.lW,c.a8,c.dn,c.n5,I.Ou,p.Ov],styles:["[_nghost-%COMP%]{display:block}.register-card[_ngcontent-%COMP%]{width:100%;max-width:300px;margin:0 auto}.full-width[_ngcontent-%COMP%]{width:100%}.btn-group[_ngcontent-%COMP%]{margin-top:1rem}.spinner-icon[_ngcontent-%COMP%]{display:inline-block}"],changeDetection:0}),e})()}];let w=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[m.Bz.forChild(Y),m.Bz]}),e})(),E=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[w,f.m]}),e})()}}]);